<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Cross Country Stats{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon-16x16.png') }}">
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --fchs-purple: #663399;
            --fchs-gold: #FFD700;
            --fchs-dark-purple: #4A0E4E;
            --fchs-light-purple: #8B5A9F;
        }
        
        .navbar-brand {
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-img {
            height: 40px;
            width: auto;
        }
        
        .bg-fchs-purple {
            background-color: var(--fchs-purple) !important;
        }
        
        .bg-fchs-gold {
            background-color: var(--fchs-gold) !important;
            color: var(--fchs-dark-purple) !important;
        }
        
        .text-fchs-purple {
            color: var(--fchs-purple) !important;
        }
        
        .text-fchs-gold {
            color: var(--fchs-gold) !important;
        }
        
        .btn-fchs-primary {
            background-color: var(--fchs-purple);
            border-color: var(--fchs-purple);
            color: white;
        }
        
        .btn-fchs-primary:hover {
            background-color: var(--fchs-dark-purple);
            border-color: var(--fchs-dark-purple);
        }
        
        .btn-fchs-secondary {
            background-color: var(--fchs-gold);
            border-color: var(--fchs-gold);
            color: var(--fchs-dark-purple);
        }
        
        .btn-fchs-secondary:hover {
            background-color: #E6C200;
            border-color: #E6C200;
        }
        
        .stats-card {
            transition: transform 0.2s;
            border-left: 4px solid var(--fchs-gold);
        }
        
        .stats-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(102, 51, 153, 0.15);
        }
        
        .time-display {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            line-height: 1.5;
            white-space: nowrap;
        }
        
        .pr-badge {
            background-color: var(--fchs-gold);
            color: var(--fchs-dark-purple);
        }
        
        .card-header {
            background-color: var(--fchs-purple);
            color: white;
            border-bottom: 2px solid var(--fchs-gold);
        }
        
        footer {
            background-color: var(--fchs-purple) !important;
            color: white !important;
        }
        
        footer .text-muted {
            color: rgba(255, 255, 255, 0.7) !important;
        }
        
        .border-fchs-gold {
            border: 2px solid var(--fchs-gold) !important;
        }
        
        .table-striped > tbody > tr:nth-of-type(odd) > td {
            background-color: rgba(102, 51, 153, 0.05);
        }
        
        .crown-pr {
            font-size: 0.9em;
            margin-left: 4px;
            display: inline;
            vertical-align: baseline;
            line-height: 1;
            animation: subtle-glow 2s ease-in-out infinite;
        }
        
        @keyframes subtle-glow {
            0%, 100% {
                filter: drop-shadow(0 0 2px rgba(255, 215, 0, 0.5));
            }
            50% {
                filter: drop-shadow(0 0 4px rgba(255, 215, 0, 0.8));
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-fchs-purple">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Fort Collins High School" class="logo-img" style="display: none;" id="logo-img">
                <i class="fas fa-running text-fchs-gold"></i> 
                <span>Fort Collins High School <small class="text-fchs-gold">Cross Country</small></span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('index') }}">
                            <i class="fas fa-home"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('team_stats') }}">
                            <i class="fas fa-users"></i> Team Stats
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('athletes_list') }}">
                            <i class="fas fa-user-friends"></i> Athletes
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('export_csv') }}">
                            <i class="fas fa-download"></i> Export CSV
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mt-4">
        {% block content %}{% endblock %}
    </div>

    <!-- Footer -->
    <footer class="bg-fchs-purple mt-5 py-4">
        <div class="container text-center">
            <p class="mb-2">
                <strong class="text-fchs-gold">Fort Collins High School</strong><br>
                <span class="text-white">Cross Country Statistics</span>
            </p>
            <p class="mb-2" style="color: rgba(255, 255, 255, 0.7); font-size: 0.9em;">
                Go Lambkins! &copy; 2025
            </p>
            <p class="mb-0" style="color: rgba(255, 255, 255, 0.6); font-size: 0.8em;">
                Wrong info? Bugs? Questions? Ideas? Contact <a href="mailto:alan.j.wade@gmail.com" class="text-fchs-gold">alan.j.wade@gmail.com</a>
            </p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>
        // Show logo if it exists
        document.addEventListener('DOMContentLoaded', function() {
            const logoImg = document.getElementById('logo-img');
            logoImg.onload = function() {
                this.style.display = 'block';
            };
            logoImg.onerror = function() {
                this.style.display = 'none';
            };
            // Trigger load check
            logoImg.src = logoImg.src;
        });
    </script>
    {% block scripts %}{% endblock %}
</body>
</html>
